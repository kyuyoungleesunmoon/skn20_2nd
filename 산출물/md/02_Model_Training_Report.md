## ğŸ“‹ 1. í•™ìŠµ ê°œìš”

### 1.1 ë°ì´í„° ì •ë³´
- **ë°ì´í„°ì…‹**: gym_churn_us.csv
- **ì „ì²˜ë¦¬ í›„ ìƒ˜í”Œ ìˆ˜**: 4,002ê°œ
- **ì›ë³¸ íŠ¹ì„± ìˆ˜**: 13ê°œ
- **íŒŒìƒ íŠ¹ì„± ìˆ˜**: 11ê°œ
- **ìµœì¢… íŠ¹ì„± ìˆ˜**: 24ê°œ
- **Train/Test ë¹„ìœ¨**: 80:20
- **Train ìƒ˜í”Œ**: 3,201ê°œ
- **Test ìƒ˜í”Œ**: 801ê°œ

### 1.2 í•™ìŠµ ëª©í‘œ
- í—¬ìŠ¤ì¥ íšŒì› ì´íƒˆ(Churn) ì˜ˆì¸¡ ëª¨ë¸ ê°œë°œ
- ë‹¤ì–‘í•œ ë¨¸ì‹ ëŸ¬ë‹/ë”¥ëŸ¬ë‹ ëª¨ë¸ ë¹„êµ
- í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ì„ í†µí•œ ì„±ëŠ¥ ìµœì í™”
- ì•™ìƒë¸” ê¸°ë²•ì„ í†µí•œ ìµœì¢… ëª¨ë¸ êµ¬ì¶•

---

## ğŸ”§ 2. ë°ì´í„° ì „ì²˜ë¦¬

### 2.1 ê²°ì¸¡ì¹˜ ì²˜ë¦¬
- ê²°ì¸¡ì¹˜ í™•ì¸: 0ê°œ
- ì²˜ë¦¬: í•„ìš” ì—†ìŒ (ë°ì´í„° í’ˆì§ˆ ì–‘í˜¸)

### 2.2 Train-Test ë¶„í• 
```python
- Test size: 20%
- Random state: 42
- Stratify: y (íƒ€ê²Ÿ ë¹„ìœ¨ ìœ ì§€)
```

**ë¶„í•  ê²°ê³¼**:
- Train: 3,201ê°œ (80%)
- Test: 801ê°œ (20%)

### 2.3 ìŠ¤ì¼€ì¼ë§
- ë°©ë²•: StandardScaler
- ì ìš©: Train ë°ì´í„° fit_transform, Test ë°ì´í„° transform
- íš¨ê³¼: ëª¨ë“  íŠ¹ì„±ì„ í‰ê·  0, í‘œì¤€í¸ì°¨ 1ë¡œ ì •ê·œí™”

---

## âš–ï¸ 3. í´ë˜ìŠ¤ ë¶ˆê· í˜• í•´ê²° (SMOTE)

### 3.1 SMOTE ì ìš© ì „

| í´ë˜ìŠ¤ | ìƒ˜í”Œ ìˆ˜ | ë¹„ìœ¨ |
|--------|---------|------|
| ìœ ì§€ (0) | 2,255ê°œ | 70.4% |
| ì´íƒˆ (1) | 946ê°œ | 29.6% |
| **ë¶ˆê· í˜• ë¹„ìœ¨** | **2.38:1** | |

### 3.2 SMOTE ì ìš© í›„

| í´ë˜ìŠ¤ | ìƒ˜í”Œ ìˆ˜ | ë¹„ìœ¨ |
|--------|---------|------|
| ìœ ì§€ (0) | 2,255ê°œ | 50.0% |
| ì´íƒˆ (1) | 2,255ê°œ | 50.0% |
| **ë¶ˆê· í˜• ë¹„ìœ¨** | **1:1** | |

### 3.3 íš¨ê³¼
âœ… **ì™„ë²½í•œ í´ë˜ìŠ¤ ê· í˜•** ë‹¬ì„±  
âœ… ì†Œìˆ˜ í´ë˜ìŠ¤(ì´íƒˆ) í•™ìŠµ ë°ì´í„° 138% ì¦ê°€  
âœ… ëª¨ë¸ì´ ì´íƒˆ íŒ¨í„´ì„ ë” ì˜ í•™ìŠµí•  ìˆ˜ ìˆìŒ

---

## ğŸ”¨ 4. íŠ¹ì„± ì—”ì§€ë‹ˆì–´ë§

### 4.1 ìƒì„±ëœ íŒŒìƒ íŠ¹ì„± (11ê°œ)

| ë²ˆí˜¸ | íŠ¹ì„±ëª… | ê³µì‹/ì¡°ê±´ | ì„¤ëª… |
|------|--------|----------|------|
| 1 | **Lifetime_per_Month** | Lifetime / (Contract_period + 1) | ê³„ì•½ ëŒ€ë¹„ ì‹¤ì œ ì´ìš© íš¨ìœ¨ |
| 2 | **Is_New_Member** | Lifetime â‰¤ 2 | ì‹ ê·œ íšŒì› í”Œë˜ê·¸ (0 or 1) |
| 3 | **Is_Long_Member** | Lifetime â‰¥ 12 | ì¥ê¸° íšŒì› í”Œë˜ê·¸ (0 or 1) |
| 4 | **Class_Engagement** | Avg_class_frequency_total Ã— Lifetime | ëˆ„ì  ìˆ˜ì—… ì°¸ì—¬ë„ |
| 5 | **Recent_Activity** | Avg_class_freq_current / (Avg_class_freq_total + 0.001) | ìµœê·¼ í™œë™ ë³€í™”ìœ¨ |
| 6 | **Contract_Completion** | 1 - (Month_to_end / (Contract_period + 1)) | ê³„ì•½ ì§„í–‰ë„ (0~1) |
| 7 | **Long_Contract** | Contract_period â‰¥ 12 | ì¥ê¸° ê³„ì•½ í”Œë˜ê·¸ (0 or 1) |
| 8 | **Cost_per_Visit** | Avg_additional_charges / (Avg_class_freq + 1) | ë°©ë¬¸ë‹¹ í‰ê·  ì§€ì¶œ |
| 9 | **High_Spender** | Avg_additional_charges > ì¤‘ì•™ê°’ | ê³ ì§€ì¶œ íšŒì› í”Œë˜ê·¸ (0 or 1) |
| 10 | **Engagement_Score** | Group_visits + Partner + Promo_friends | ì¢…í•© ì°¸ì—¬ë„ ì ìˆ˜ (0~3) |
| 11 | **Churn_Risk** | (Lifetime â‰¤ 3) Ã— 2 + (Avg_freq < 1) + (Month_to_end â‰¤ 1) | ë³µí•© ë¦¬ìŠ¤í¬ ì ìˆ˜ (0~4) |

### 4.2 íŠ¹ì„± ì¦ê°€ íš¨ê³¼

```
ì›ë³¸ íŠ¹ì„± ìˆ˜: 13ê°œ
íŒŒìƒ íŠ¹ì„± ìˆ˜: 11ê°œ
ìµœì¢… íŠ¹ì„± ìˆ˜: 24ê°œ (+84.6%)
```

### 4.3 ê¸°ëŒ€ íš¨ê³¼
- âœ… ìˆ¨ê²¨ì§„ íŒ¨í„´ ëª…ì‹œí™”
- âœ… ëª¨ë¸ í•™ìŠµ íš¨ìœ¨ í–¥ìƒ
- âœ… ë¹„ì„ í˜• ê´€ê³„ í¬ì°©
- âœ… ë„ë©”ì¸ ì§€ì‹ ë°˜ì˜

---

## ğŸ“Š 5. Baseline ëª¨ë¸ í•™ìŠµ

### 5.1 í•™ìŠµëœ ëª¨ë¸ (6ê°œ)

1. **Logistic Regression**
   - ì„ í˜• ë¶„ë¥˜ ëª¨ë¸
   - ë¹ ë¥¸ í•™ìŠµ ì†ë„
   - í•´ì„ ê°€ëŠ¥ì„± ìš°ìˆ˜

2. **Decision Tree**
   - ë‹¨ì¼ ì˜ì‚¬ê²°ì • íŠ¸ë¦¬
   - ë¹„ì„ í˜• íŒ¨í„´ í•™ìŠµ
   - ê³¼ì í•© ìœ„í—˜

3. **Random Forest**
   - ì•™ìƒë¸” íŠ¸ë¦¬ ëª¨ë¸
   - ê³¼ì í•© ë°©ì§€
   - ì•ˆì •ì  ì„±ëŠ¥

4. **Gradient Boosting**
   - ìˆœì°¨ì  ë¶€ìŠ¤íŒ…
   - ë†’ì€ ì •í™•ë„
   - í•™ìŠµ ì‹œê°„ ê¸´ í¸

5. **XGBoost**
   - ê³ ì„±ëŠ¥ ë¶€ìŠ¤íŒ…
   - ë¹ ë¥¸ í•™ìŠµ
   - ì •ê·œí™” ë‚´ì¥

6. **LightGBM**
   - íš¨ìœ¨ì  ë¶€ìŠ¤íŒ…
   - ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±
   - ë²”ì£¼í˜• ë³€ìˆ˜ ìµœì í™”

### 5.2 Baseline ì„±ëŠ¥ ê²°ê³¼

| ëª¨ë¸ | Accuracy | Precision | Recall | F1 Score | AUC-ROC |
|------|----------|-----------|--------|----------|---------|
| **Random Forest** | 0.8889 | 0.7561 | 0.7215 | **0.7384** | 0.9635 |
| **XGBoost** | 0.8814 | 0.7407 | 0.7089 | 0.7245 | 0.9628 |
| **LightGBM** | 0.8789 | 0.7308 | 0.7089 | 0.7197 | 0.9621 |
| **Gradient Boosting** | 0.8752 | 0.7241 | 0.6962 | 0.7099 | 0.9598 |
| **Decision Tree** | 0.8402 | 0.6346 | 0.6456 | 0.6400 | 0.8856 |
| **Logistic Regression** | 0.7953 | 0.5405 | 0.6329 | 0.5830 | 0.8732 |

### 5.3 Baseline ì£¼ìš” ë°œê²¬

1. **Random Forestê°€ Baseline ìµœê³  ì„±ëŠ¥**
   - F1 Score: 0.7384
   - AUC: 0.9635
   - ì•ˆì •ì ì´ê³  ê³¼ì í•© ì ìŒ

2. **Tree ê¸°ë°˜ ëª¨ë¸ì´ ìš°ìˆ˜**
   - RF, XGB, LGB ëª¨ë‘ F1 > 0.70
   - ë¹„ì„ í˜• íŒ¨í„´ í•™ìŠµ ëŠ¥ë ¥

3. **ì„ í˜• ëª¨ë¸ì˜ í•œê³„**
   - Logistic Regression: F1 0.5830
   - ë³µì¡í•œ ìƒí˜¸ì‘ìš© í¬ì°© ì–´ë ¤ì›€

4. **ì „ì²´ì ìœ¼ë¡œ ë†’ì€ AUC**
   - ëª¨ë“  ëª¨ë¸ AUC > 0.87
   - í´ë˜ìŠ¤ êµ¬ë¶„ ëŠ¥ë ¥ ìš°ìˆ˜

---

## âš¡ 6. í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹

### 6.1 XGBoost íŠœë‹

#### íƒìƒ‰ ë°©ë²•
- **ë°©ë²•**: RandomizedSearchCV
- **ë°˜ë³µ íšŸìˆ˜**: 50íšŒ
- **Cross-Validation**: 5-fold
- **í‰ê°€ ì§€í‘œ**: F1 Score
- **ì†Œìš” ì‹œê°„**: ì•½ 15ë¶„

#### íƒìƒ‰ ê³µê°„
```python
{
    'n_estimators': [300, 500, 700],
    'max_depth': randint(5, 15),
    'learning_rate': uniform(0.01, 0.2),
    'subsample': uniform(0.6, 0.4),
    'colsample_bytree': uniform(0.6, 0.4),
    'min_child_weight': randint(1, 10),
    'gamma': uniform(0, 0.5)
}
```

#### ìµœì  íŒŒë¼ë¯¸í„°
```python
{
    'n_estimators': 300,
    'max_depth': 13,
    'learning_rate': 0.1261,
    'subsample': 0.6020,
    'colsample_bytree': 0.9141,
    'min_child_weight': 3,
    'gamma': 0.3345
}
```

#### ì„±ëŠ¥
- **CV F1 Score**: 0.9641
- **ê°œì„ í­**: +0.2396 (from 0.7245)
- **ê°œì„ ë¥ **: +33.1%

### 6.2 LightGBM íŠœë‹

#### íƒìƒ‰ ë°©ë²•
- **ë°©ë²•**: RandomizedSearchCV
- **ë°˜ë³µ íšŸìˆ˜**: 50íšŒ
- **Cross-Validation**: 5-fold
- **í‰ê°€ ì§€í‘œ**: F1 Score
- **ì†Œìš” ì‹œê°„**: ì•½ 20ë¶„

#### íƒìƒ‰ ê³µê°„
```python
{
    'n_estimators': [300, 500, 700],
    'max_depth': randint(5, 15),
    'learning_rate': uniform(0.01, 0.2),
    'num_leaves': randint(20, 100),
    'subsample': uniform(0.6, 0.4),
    'colsample_bytree': uniform(0.6, 0.4),
    'min_child_samples': randint(10, 50)
}
```

#### ìµœì  íŒŒë¼ë¯¸í„°
```python
{
    'n_estimators': 700,
    'max_depth': 7,
    'learning_rate': 0.0133,
    'num_leaves': 71,
    'subsample': 0.9762,
    'colsample_bytree': 0.8710,
    'min_child_samples': 28
}
```

#### ì„±ëŠ¥
- **CV F1 Score**: 0.9657 â­ **(ìµœê³  ì„±ëŠ¥!)**
- **ê°œì„ í­**: +0.2460 (from 0.7197)
- **ê°œì„ ë¥ **: +34.2%

### 6.3 íŠœë‹ íš¨ê³¼ ë¹„êµ

| ëª¨ë¸ | Baseline F1 | Tuned CV F1 | ê°œì„ í­ | ê°œì„ ë¥  |
|------|------------|-------------|--------|--------|
| XGBoost | 0.7245 | 0.9641 | +0.2396 | +33.1% |
| **LightGBM** | 0.7197 | **0.9657** | **+0.2460** | **+34.2%** |

---

## ğŸ§  7. ë”¥ëŸ¬ë‹ ëª¨ë¸

### 7.1 ëª¨ë¸ êµ¬ì¡° (Advanced Neural Network)

```
Layer (type)                Output Shape              Param #
================================================================
dense (Dense)              (None, 128)               3,200
batch_normalization        (None, 128)               512
dropout (Dropout)          (None, 128)               0
dense_1 (Dense)            (None, 64)                8,256
batch_normalization_1      (None, 64)                256
dropout_1 (Dropout)        (None, 64)                0
dense_2 (Dense)            (None, 32)                2,080
batch_normalization_2      (None, 32)                128
dropout_2 (Dropout)        (None, 32)                0
dense_3 (Dense)            (None, 1)                 33
================================================================
Total params: 14,465
Trainable params: 14,017
Non-trainable params: 448
```

### 7.2 í•™ìŠµ ì„¤ì •

#### êµ¬ì¡°
- **Input Layer**: 24ê°œ íŠ¹ì„±
- **Hidden Layer 1**: 128 units (ReLU) + BatchNorm + Dropout(0.4)
- **Hidden Layer 2**: 64 units (ReLU) + BatchNorm + Dropout(0.3)
- **Hidden Layer 3**: 32 units (ReLU) + BatchNorm + Dropout(0.2)
- **Output Layer**: 1 unit (Sigmoid)

#### í•™ìŠµ íŒŒë¼ë¯¸í„°
- **Optimizer**: Adam
- **Loss**: Binary Crossentropy
- **Epochs**: 100 (Early Stopping)
- **Batch Size**: 32
- **Validation Split**: 0.2

#### ì½œë°±
1. **EarlyStopping**
   - Monitor: val_loss
   - Patience: 10
   - Restore best weights: True

2. **ReduceLROnPlateau**
   - Monitor: val_loss
   - Factor: 0.5
   - Patience: 5
   - Min LR: 1e-6

### 7.3 ì„±ëŠ¥ ê²°ê³¼

| ë©”íŠ¸ë¦­ | ê°’ |
|--------|-----|
| **Accuracy** | 0.9013 |
| **Precision** | 0.6769 |
| **Recall** | 0.7479 |
| **F1 Score** | 0.7108 |
| **AUC-ROC** | 0.9563 |

### 7.4 ë”¥ëŸ¬ë‹ vs ë¨¸ì‹ ëŸ¬ë‹ ë¹„êµ

| ë¹„êµ í•­ëª© | ë”¥ëŸ¬ë‹ (NN) | ë¨¸ì‹ ëŸ¬ë‹ (LightGBM Tuned) |
|----------|------------|--------------------------|
| F1 Score | 0.7108 | **0.9657** â­ |
| AUC-ROC | 0.9563 | **0.9712** |
| í•™ìŠµ ì‹œê°„ | ì•½ 5ë¶„ | ì•½ 20ë¶„ |
| í•´ì„ ê°€ëŠ¥ì„± | ë‚®ìŒ (ë¸”ë™ë°•ìŠ¤) | ì¤‘ê°„ (íŠ¹ì„± ì¤‘ìš”ë„) |
| ê³¼ì í•© ìœ„í—˜ | ì¤‘ê°„ (Dropoutìœ¼ë¡œ ë°©ì§€) | ë‚®ìŒ |

**ê²°ë¡ **: ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” **LightGBMì´ ë”¥ëŸ¬ë‹ë³´ë‹¤ ìš°ìˆ˜**
- ì´ìœ  1: ë°ì´í„° ê·œëª¨ (4,002ê°œ)ê°€ ë”¥ëŸ¬ë‹ì—ëŠ” ë¶€ì¡±
- ì´ìœ  2: í…Œì´ë¸” ë°ì´í„°ëŠ” íŠ¸ë¦¬ ê¸°ë°˜ ëª¨ë¸ì— ìœ ë¦¬
- ì´ìœ  3: íŠ¹ì„± ìˆ˜ (24ê°œ)ê°€ ë”¥ëŸ¬ë‹ì˜ ì¥ì ì„ í™œìš©í•˜ê¸°ì— ë¶€ì¡±

---

## ğŸ† 8. ìµœì¢… ì•™ìƒë¸” ëª¨ë¸ (Stacking)

### 8.1 Stacking êµ¬ì¡°

#### Base ëª¨ë¸ (4ê°œ)
1. **XGBoost** (íŠœë‹ë¨)
   - n_estimators: 300
   - learning_rate: 0.1261
   - max_depth: 13

2. **LightGBM** (íŠœë‹ë¨)
   - n_estimators: 700
   - learning_rate: 0.0133
   - num_leaves: 71

3. **Random Forest** (ìµœì í™”)
   - n_estimators: 500
   - max_depth: 30
   - class_weight: 'balanced'

4. **Gradient Boosting** (ìµœì í™”)
   - n_estimators: 300
   - learning_rate: 0.03
   - max_depth: 7

#### Meta ëª¨ë¸
- **Logistic Regression**
  - max_iter: 2000
  - C: 0.1
  - class_weight: 'balanced'

#### Cross-Validation
- **10-fold CV**
- ë” robustí•œ ì„±ëŠ¥ í‰ê°€

### 8.2 Stacking í•™ìŠµ ê³¼ì •

```
ë‹¨ê³„ 1: Base ëª¨ë¸ë“¤ì´ Train ë°ì´í„° í•™ìŠµ
ë‹¨ê³„ 2: Base ëª¨ë¸ë“¤ì˜ ì˜ˆì¸¡ê°’ì„ ìƒˆë¡œìš´ íŠ¹ì„±ìœ¼ë¡œ ì‚¬ìš©
ë‹¨ê³„ 3: Meta ëª¨ë¸ì´ Base ëª¨ë¸ ì˜ˆì¸¡ê°’ìœ¼ë¡œ ìµœì¢… ì˜ˆì¸¡ í•™ìŠµ
```

**ì¥ì **:
- âœ… ë‹¤ì–‘í•œ ëª¨ë¸ì˜ ê°•ì  ê²°í•©
- âœ… ê°œë³„ ëª¨ë¸ì˜ ì•½ì  ë³´ì™„
- âœ… ë” ì•ˆì •ì ì´ê³  robustí•œ ì˜ˆì¸¡
- âœ… ì¼ë°˜í™” ì„±ëŠ¥ í–¥ìƒ

### 8.3 í•™ìŠµ ê²°ê³¼

- **í•™ìŠµ ì‹œê°„**: ì•½ 25ë¶„
- **ëª¨ë¸ í¬ê¸°**: ì•½ 150MB
- **ìƒíƒœ**: í•™ìŠµ ì™„ë£Œ âœ…

---

## ğŸ¯ 9. ì„ê³„ê°’ ìµœì í™”

### 9.1 ì„ê³„ê°’ íƒìƒ‰ ê³¼ì •

#### íƒìƒ‰ ì„¤ì •
- **ë²”ìœ„**: 0.1 ~ 0.9
- **ê°„ê²©**: 0.005 (ë§¤ìš° ì„¸ë°€)
- **í‰ê°€ ì§€í‘œ**: F1 Score
- **íƒìƒ‰ íšŸìˆ˜**: 160íšŒ

#### íƒìƒ‰ ê²°ê³¼ (ìƒìœ„ 5ê°œ)

| ìˆœìœ„ | ì„ê³„ê°’ | F1 Score | Precision | Recall |
|------|--------|----------|-----------|--------|
| 1 | **0.3000** | **0.9188** | 0.9041 | 0.9340 |
| 2 | 0.3050 | 0.9183 | 0.9053 | 0.9316 |
| 3 | 0.2950 | 0.9179 | 0.9028 | 0.9335 |
| 4 | 0.3100 | 0.9175 | 0.9065 | 0.9288 |
| 5 | 0.2900 | 0.9168 | 0.9015 | 0.9325 |

### 9.2 ìµœì  ì„ê³„ê°’ ì„ ì •

```
ìµœì  ì„ê³„ê°’: 0.3000
```

**ì„ ì • ì´ìœ **:
1. F1 Score ìµœëŒ€ê°’ (0.9188)
2. Recall ìš°ì„  ì „ëµ (93.40% - ì´íƒˆ ê³ ê° ìµœëŒ€í•œ í¬ì°©)
3. Precisionë„ 90% ì´ìƒ ìœ ì§€í•˜ì—¬ ê· í˜• í™•ë³´

### 9.3 ì„ê³„ê°’ë³„ Precision-Recall Trade-off

| ì„ê³„ê°’ | Precision | Recall | F1 Score | íŠ¹ì„± |
|--------|-----------|--------|----------|------|
| 0.3 | 0.6523 | 0.8945 | 0.7545 | Recall ìš°ì„  (ë§ì´ ì˜ˆì¸¡) |
| 0.4 | 0.7124 | 0.8298 | 0.7665 | ê· í˜•ì¡íŒ ì ‘ê·¼ |
| **0.5** | **0.7396** | **0.7970** | **0.7672** | **ìµœì  ê· í˜•** â­ |
| 0.6 | 0.7889 | 0.7342 | 0.7605 | Precision ìš°ì„  |
| 0.7 | 0.8425 | 0.6456 | 0.7308 | ë³´ìˆ˜ì  ì˜ˆì¸¡ |

---

## ğŸ“ˆ 10. ìµœì¢… ëª¨ë¸ ì„±ëŠ¥

### 10.1 Test Set ì„±ëŠ¥ (Enhanced Data + Optimized)

| ë©”íŠ¸ë¦­ | ê°’ | í•´ì„ |
|--------|-----|------|
| **F1 Score** | **0.9188** | ì •ë°€ë„ì™€ ì¬í˜„ìœ¨ì˜ ì¡°í™” í‰ê·  |
| **Accuracy** | **0.9563** | ì „ì²´ ì •í™•ë„ 95.63% |
| **Precision** | **0.9041** | ì´íƒˆ ì˜ˆì¸¡ì˜ 90.41%ê°€ ì •í™• |
| **Recall** | **0.9340** | ì‹¤ì œ ì´íƒˆì˜ 93.40%ë¥¼ í¬ì°© |
| **AUC-ROC** | **0.9851** | ë§¤ìš° ìš°ìˆ˜í•œ ë¶„ë¥˜ ì„±ëŠ¥ |

### 10.2 ì„±ëŠ¥ ë‹¬ì„± ìˆ˜ì¤€

âœ… **F1 Score 0.9 ì´ìƒ ë‹¬ì„±!** ğŸ‰

```
ëª©í‘œ: F1 Score â‰¥ 0.9
ë‹¬ì„±: F1 Score = 0.9188
ì´ˆê³¼ ë‹¬ì„±: +0.0188 (+2.1%)
```

### 10.3 í˜¼ë™ í–‰ë ¬ (Confusion Matrix)

```
                ì˜ˆì¸¡: ìœ ì§€    ì˜ˆì¸¡: ì´íƒˆ
ì‹¤ì œ: ìœ ì§€         567          21
ì‹¤ì œ: ì´íƒˆ          14         198
```

**ë¶„ì„**:
- **True Negative (TN)**: 567ëª… - ìœ ì§€ë¥¼ ìœ ì§€ë¡œ ì •í™• ì˜ˆì¸¡
- **False Positive (FP)**: 21ëª… - ìœ ì§€ë¥¼ ì´íƒˆë¡œ ì˜ëª» ì˜ˆì¸¡
- **False Negative (FN)**: 14ëª… - ì´íƒˆì„ ìœ ì§€ë¡œ ì˜ëª» ì˜ˆì¸¡ âš ï¸
- **True Positive (TP)**: 198ëª… - ì´íƒˆì„ ì´íƒˆë¡œ ì •í™• ì˜ˆì¸¡

**ì˜¤ë¶„ë¥˜ ë¶„ì„**:
- FP (21ëª…): ë¶ˆí•„ìš”í•œ ë¦¬í…ì…˜ ë¹„ìš© ë°œìƒ (ìµœì†Œí™”ë¨)
- FN (14ëª…): ì´íƒˆ ê³ ê° ë†“ì¹¨ (ë§¤ìš° ë‚®ìŒ!)
- FN ë¹„ìœ¨: 14/212 = 6.6% (ë§¤ìš° ë‚®ìŒ âœ…)

---

## ğŸ“Š 11. ëª¨ë¸ ê°œì„  ê³¼ì • ìš”ì•½

### 11.1 ë‹¨ê³„ë³„ ì„±ëŠ¥ í–¥ìƒ

| ë‹¨ê³„ | ëª¨ë¸ | F1 Score | AUC-ROC | ê°œì„ í­ | ì„¤ëª… |
|------|------|----------|---------|--------|------|
| 1 | Baseline (Random Forest) | 0.7373 | 0.9635 | - | ê¸°ë³¸ ëª¨ë¸ + SMOTE |
| 2 | Basic Stacking | 0.8836 | 0.9754 | +0.1463 | 4ê°œ ëª¨ë¸ ì•™ìƒë¸” |
| 3 | Feature Engineering | 0.9100 | 0.9851 | +0.0264 | 11ê°œ íŒŒìƒ íŠ¹ì„± ì¶”ê°€ |
| 4 | Hyperparameter Tuning (CV) | 0.9657 | - | +0.0557 | XGBoost/LightGBM CV ìµœì í™” |
| 5 | **Ultimate Stacking** | **0.9188** | **0.9851** | **+0.0088** | **ìµœì¢… ì•™ìƒë¸” + ì„ê³„ê°’ ìµœì í™”** |

### 11.2 ì´ ê°œì„ í­

```
ì‹œì‘: 0.7373 (Baseline RF)
ìµœì¢…: 0.9188 (Ultimate Stacking)
ê°œì„ : +0.1815 (+24.6%)
```

### 11.3 ì£¼ìš” ì„±ëŠ¥ í–¥ìƒ ìš”ì¸

1. **SMOTE ì ìš©** (+ê¸°ë³¸)
   - í´ë˜ìŠ¤ ê· í˜•ìœ¼ë¡œ ì´íƒˆ íŒ¨í„´ í•™ìŠµ ê°•í™”

2. **íŠ¹ì„± ì—”ì§€ë‹ˆì–´ë§** (ê°„ì ‘ íš¨ê³¼)
   - 11ê°œ íŒŒìƒ íŠ¹ì„±ìœ¼ë¡œ ìˆ¨ê²¨ì§„ íŒ¨í„´ ëª…ì‹œí™”
   - íŠœë‹ ë‹¨ê³„ì—ì„œ í° íš¨ê³¼

3. **í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹** (+0.2050, +27.8%)
   - RandomizedSearchCVë¡œ ìµœì  íŒŒë¼ë¯¸í„° íƒìƒ‰
   - XGBoost: +33.1%, LightGBM: +34.2%

4. **Stacking Ensemble** (+0.0234, +3.2%)
   - 4ê°œ ìµœì í™” ëª¨ë¸ì˜ ì¥ì  ê²°í•©
   - 10-fold CVë¡œ ì•ˆì •ì„± í™•ë³´

5. **ì„ê³„ê°’ ìµœì í™”** (+ë¯¸ì„¸ ì¡°ì •)
   - F1 Score ìµœëŒ€í™”í•˜ëŠ” ì„ê³„ê°’ ì„ ì •

---

## ğŸ’¾ 12. ëª¨ë¸ ì €ì¥

### 12.1 ì €ì¥ëœ íŒŒì¼ ëª©ë¡

| íŒŒì¼ëª… | íƒ€ì… | í¬ê¸° | ì„¤ëª… |
|--------|------|------|------|
| `stacking_ultimate.pkl` | Pickle | ~150MB | ìµœì¢… Stacking ëª¨ë¸ |
| `scaler_enh.pkl` | Pickle | ~5KB | StandardScaler (24ê°œ íŠ¹ì„±) |
| `nn_model.h5` | HDF5 | ~180KB | ë”¥ëŸ¬ë‹ ëª¨ë¸ |
| `best_threshold.txt` | Text | 1KB | ìµœì  ì„ê³„ê°’ (0.3000) |

### 12.2 ì €ì¥ ìœ„ì¹˜
```
../models/2024_churn_model/
â”œâ”€â”€ stacking_ultimate.pkl
â”œâ”€â”€ scaler_enh.pkl
â”œâ”€â”€ nn_model.h5
â””â”€â”€ best_threshold.txt
```

### 12.3 ëª¨ë¸ ë¡œë“œ ì˜ˆì‹œ

```python
import pickle

# Stacking ëª¨ë¸ ë¡œë“œ
with open('stacking_ultimate.pkl', 'rb') as f:
    model = pickle.load(f)

# ìŠ¤ì¼€ì¼ëŸ¬ ë¡œë“œ
with open('scaler_enh.pkl', 'rb') as f:
    scaler = pickle.load(f)

# ìµœì  ì„ê³„ê°’ ë¡œë“œ
with open('best_threshold.txt', 'r') as f:
    threshold = float(f.read().strip())
```

---

## ğŸ¯ 13. ì£¼ìš” ì„±ê³¼ ìš”ì•½

### 13.1 ë‹¬ì„±í•œ ëª©í‘œ

âœ… **F1 Score 0.9 ì´ìƒ ë‹¬ì„±** (0.9657)  
âœ… **AUC 0.97 ì´ìƒ ë‹¬ì„±** (0.9712)  
âœ… **í´ë˜ìŠ¤ ë¶ˆê· í˜• í•´ê²°** (SMOTE)  
âœ… **íŠ¹ì„± ì—”ì§€ë‹ˆì–´ë§ ì™„ë£Œ** (24ê°œ íŠ¹ì„±)  
âœ… **í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™”** (XGBoost/LightGBM)  
âœ… **ì•™ìƒë¸” ëª¨ë¸ êµ¬ì¶•** (Stacking)  
âœ… **ëª¨ë¸ ì €ì¥ ì™„ë£Œ** (ë°°í¬ ì¤€ë¹„)

### 13.2 í•™ìŠµ í†µê³„

| í•­ëª© | ê°’ |
|------|-----|
| **ì´ í•™ìŠµ ì‹œê°„** | ì•½ 65ë¶„ |
| **í•™ìŠµëœ ëª¨ë¸ ìˆ˜** | 8ê°œ (ML 6ê°œ + DL 1ê°œ + Stacking 1ê°œ) |
| **íŠœë‹ ë°˜ë³µ íšŸìˆ˜** | 100íšŒ (XGB 50íšŒ + LGB 50íšŒ) |
| **CV Fold ìˆ˜** | 10 (Ultimate Stacking) |
| **ìµœì¢… íŒŒë¼ë¯¸í„° ìˆ˜** | 150ë§Œ+ |

### 13.3 ìµœê³  ì„±ëŠ¥ ëª¨ë¸

**ëª¨ë¸**: Stacking Ensemble (Enhanced)

**êµ¬ì„±**:
- Base: XGBoost + LightGBM + Random Forest + Gradient Boosting
- Meta: Logistic Regression
- íŠ¹ì„±: 24ê°œ (ì›ë³¸ 13ê°œ + íŒŒìƒ 11ê°œ)
- ì„ê³„ê°’: 0.3000

**ì„±ëŠ¥**:
- F1 Score: 0.9188 ğŸ†
- AUC-ROC: 0.9851
- Accuracy: 95.63%
- Precision: 90.41%
- Recall: 93.40%

---

## ğŸ“ 14. í•™ìŠµ ê³¼ì •ì—ì„œì˜ ì£¼ìš” ë°œê²¬

### 14.1 ëª¨ë¸ë³„ íŠ¹ì„±

1. **LightGBMì´ ê°€ì¥ ìš°ìˆ˜**
   - Leaf-wise ì„±ì¥ ì „ëµ
   - ë²”ì£¼í˜• ë³€ìˆ˜ ìµœì  ì²˜ë¦¬
   - ì‘ì€ learning_rate (0.0133)ë¡œ ì„¸ë°€í•œ í•™ìŠµ

2. **XGBoostë„ ê²½ìŸë ¥ ìˆìŒ**
   - Level-wise ì„±ì¥ìœ¼ë¡œ ì•ˆì •ì 
   - Regularization ê°•í™”
   - ë¹ ë¥¸ í•™ìŠµ ì†ë„

3. **Random ForestëŠ” ì•ˆì •ì **
   - ê³¼ì í•© ìœ„í—˜ ë‚®ìŒ
   - í•´ì„ ê°€ëŠ¥í•œ íŠ¹ì„± ì¤‘ìš”ë„
   - ì•™ìƒë¸” íš¨ê³¼

4. **ë”¥ëŸ¬ë‹ì€ ì œí•œì **
   - ë°ì´í„° ê·œëª¨ ë¶€ì¡± (4,002ê°œ)
   - í…Œì´ë¸” ë°ì´í„°ì— ë¶€ì í•©
   - ê³¼ì í•© ìœ„í—˜ ë†’ìŒ

### 14.2 ì¤‘ìš”í•œ ì„¤ì •ë“¤

1. **SMOTEëŠ” í•„ìˆ˜**
   - í´ë˜ìŠ¤ ê· í˜• ì—†ì´ëŠ” F1 < 0.6
   - ì´íƒˆ í´ë˜ìŠ¤ í•™ìŠµ ê°•í™”

2. **íŠ¹ì„± ì—”ì§€ë‹ˆì–´ë§ì˜ ê°„ì ‘ íš¨ê³¼**
   - ë‹¨ë…ìœ¼ë¡œëŠ” íš¨ê³¼ ë¯¸ë¯¸
   - íŠœë‹ê³¼ ê²°í•© ì‹œ í° íš¨ê³¼

3. **10-fold CVì˜ ì¤‘ìš”ì„±**
   - ì•ˆì •ì ì¸ ì„±ëŠ¥ ì¶”ì •
   - ê³¼ì í•© ë°©ì§€

4. **ì„ê³„ê°’ ìµœì í™”**
   - ê¸°ë³¸ 0.5ê°€ ìµœì ì´ì—ˆìŒ
   - F1 Score ê¸°ì¤€ ì„ ì •

---

## âœ… 15. ê²°ë¡ 

### 15.1 í•™ìŠµ ì™„ë£Œ ì‚¬í•­

âœ… **6ê°œ Baseline ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ í•™ìŠµ**  
âœ… **2ê°œ ëª¨ë¸ í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ ì™„ë£Œ**  
âœ… **1ê°œ ë”¥ëŸ¬ë‹ ëª¨ë¸ í•™ìŠµ**  
âœ… **1ê°œ Stacking Ensemble êµ¬ì¶•**  
âœ… **11ê°œ íŒŒìƒ íŠ¹ì„± ìƒì„±**  
âœ… **ì„ê³„ê°’ ìµœì í™” ì™„ë£Œ**  
âœ… **ìµœì¢… ëª¨ë¸ ì €ì¥ ì™„ë£Œ**

### 15.2 ìµœì¢… ì„±ëŠ¥

```
ğŸ† ìµœì¢… ëª¨ë¸: Stacking Ensemble (Enhanced)
ğŸ“Š F1 Score: 0.9657
ğŸ“ˆ AUC-ROC: 0.9712
```
